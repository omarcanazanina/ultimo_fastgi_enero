<ion-header>
  <ion-toolbar color="primary">
    <ion-title>{{nombresito}} {{contador}}</ion-title>
    <ion-buttons slot="start">

      <ion-back-button defaultHref="/tabs/tab2"></ion-back-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content #content color='dark'>
  <div class="contenido-historial">
    <ion-list *ngFor="let usu of actual; let last = last">
      <ion-card class="card2" *ngIf="usu.dato == 'enviatransferencia' ">
        <ion-card-content (click)="opendetalle(usu)">
          <b class="letras1">TRANSFERENCIA </b>
          <b>
            <p class="letras1">Fecha de envio:{{usu.fechita}}</p>
          </b>
          <b>
            <p class="letras1">Monto:{{usu.monto}} Bs.</p>
          </b>
          <p class="mas">ver mas</p>
        </ion-card-content>
      </ion-card>
      <ion-card class="card" *ngIf="usu.dato == 'recibetransferencia' ">
        <ion-card-content (click)="opendetalle(usu)">
          <b class="letras1">TRANSFERENCIA </b>
          <b>
            <p class="letras1">Fecha de envio:{{usu.fechita}}</p>
          </b>
          <b>
            <p class="letras1">Monto:{{usu.monto}} Bs.</p>
          </b>
          <p class="mas">ver mas</p>
        </ion-card-content>
      </ion-card>

      <ion-card class="card" *ngIf="usu.dato == 'recibio' && usu.estado == 0">
        <ion-card-content>
          <b class="letras1">COBRO</b>
          <b>
            <p class="letras1">Fecha de envio:{{usu.fechita}}</p>
          </b>
          <b>
            <p class="letras1">Monto:{{usu.monto}} Bs.</p>
          </b>
          <p class="mas" (click)="opendetalle(usu)">ver mas</p>
          <ion-row>
            <ion-col size="8" *ngIf="usu.estado == 0">
              <ion-button color="success" size="small" (click)="pagar1(usu)">
                <!--(click)="pagar(usu)" -->
                <div>Pagar</div>
              </ion-button>
            </ion-col>
          </ion-row>
        </ion-card-content>
      </ion-card>

      <ion-row>
        <ion-col size=0></ion-col>
        <ion-col *ngIf="usu.dato == 'recibio' && usu.estado == 1">
          <ion-card class="card">
            <ion-card-content>
              <b class="letras1">COBRO</b>
              <b>
                <p class="letras1">Fecha de envio:{{usu.fechita}}</p>
              </b>
              <b>
                <p class="letras1">Monto:{{usu.monto}} Bs.</p>
              </b>
            </ion-card-content>
          </ion-card>
          <ion-card class="card1">
            <ion-card-content (click)="opendetalle(usu)">
              <b class="letras1">YA PAGADO</b>
              <b>
                <p class="letras1">Fecha de pago:{{usu.fechapago}}</p>
              </b>
              <b>
                <p class="letras1">Monto:{{usu.monto}} Bs.</p>
              </b>
              <p class="mas">ver mas</p>
            </ion-card-content>
          </ion-card>
        </ion-col>
      </ion-row>

      <ion-card class="card2" *ngIf="usu.dato == 'enviado' && usu.estado == 0">
        <ion-card-content (click)="opendetalle(usu)">
          <b class="letras1">COBRO</b>
          <b>
            <p class="letras1">Fecha de envio:{{usu.fechita}}</p>
          </b>
          <b>
            <p class="letras1">Monto:{{usu.monto}} Bs.</p>
          </b>
          <p class="mas">ver mas</p>
        </ion-card-content>
      </ion-card>

      <ion-row>
        <ion-col size=0></ion-col>
        <ion-col *ngIf="usu.dato == 'enviado' && usu.estado == 1">
          <ion-card class="card2">
            <ion-card-content>
              <b class="letras1">COBRO</b>
              <b>
                <p class="letras1">Fecha de envio:{{usu.fechita}}</p>
              </b>
              <b>
                <p class="letras1">Monto:{{usu.monto}} Bs.</p>
              </b>
            </ion-card-content>
          </ion-card>

          <ion-card class="card11">
            <ion-card-content (click)="opendetalle(usu)">
              <b class="letras1">COBRO</b>
              <b>
                <p class="letras1">Fecha de pago:{{usu.fechapago}}</p>
              </b>
              <b>
                <p class="letras1">Monto:{{usu.monto}} Bs.</p>
              </b>
              <p class="mas">ver mas</p>
            </ion-card-content>
          </ion-card>
        </ion-col>
      </ion-row>
      {{last ? callFunction() : ''}}
    </ion-list>
  </div>
</ion-content>

<ion-footer>
  <ion-item *ngIf="pin == ''">
    <ion-label class="label" (click)="teclado()" placeholder="  Monto"> Monto </ion-label>
  </ion-item>
  <ion-item *ngIf="pin != ''">
    <ion-label class="label" (click)="teclado()" placeholder="Monto"> {{pin}} </ion-label>
  </ion-item>
  <!--
  <ion-item>
    <ion-input placeholder="Monto" class="input" type="number" [(ngModel)]="monto" id='monto'></ion-input>
  </ion-item>
  -->
  <ion-item>
    <ion-input placeholder="Detalla la transacciÃ³n" type="text" [(ngModel)]="detalle" id='detalle' (ionFocus)="ok()" #input></ion-input>
  </ion-item>

  <ion-grid >
    <ion-row>
      <ion-col size="6" text-center (click)="confirmacion1(detalle)">transferir</ion-col>
      <ion-col size="6" text-center (click)="enviacobro(detalle)">Cobrar</ion-col>
    </ion-row>
  </ion-grid>
  
    <div class="div1" *ngIf="controladorteclado == 1">
      <ion-grid>
        <ion-row>
          <ion-col size="9">
            <ion-button color="light" *ngFor="let n of gruponum" (click)="presionar(n)" class="botones">{{n}}
            </ion-button>
          </ion-col>
          <ion-col size="3">
            <ion-button color="light" class="borrar" (click)="borrar()"><ion-img src="./assets/icon/retroceso.svg" class="imagen"></ion-img></ion-button>
            <ion-button  class="ok" (click)="ok()">ok</ion-button>
          </ion-col>
        </ion-row>
      </ion-grid>
    </div>
</ion-footer>